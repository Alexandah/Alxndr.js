<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Alxndr.js Demo</title>
    <style>
      .window {
        border: 1px solid black;
      }
    </style>
  </head>

  <body>
    <script src="./Alxndr.js"></script>
    <script>
      class MovingDiv extends AlxNode {
        constructor(text, startPos, moveAmt = 20) {
          super(
            div(
              {
                class: "window",
                style: {
                  position: "fixed",
                  left: startPos.x,
                  top: startPos.y,
                },
              },
              text
            )
          );
          this.nodeData.onclick = () => this.changeColor();
          this.x = startPos.x;
          this.y = startPos.y;
          this.flash = false;
          this.moveAmt = moveAmt;
          this.render = () => {
            let border = this.flash ? "3px solid orange" : "1px solid black";
            this.nodeData.style = {
              left: this.x + "px",
              top: this.y + "px",
              border: border,
            };
          };
        }

        moveUp() {
          this.y -= this.moveAmt;
        }
        moveDown() {
          this.y += this.moveAmt;
        }
        moveLeft() {
          this.x -= this.moveAmt;
        }
        moveRight() {
          this.x += this.moveAmt;
        }

        changeColor() {
          this.flash = !this.flash;
        }
      }

      var movingDiv = new MovingDiv("I like to move it move it!", {
        x: 100,
        y: 100,
      });

      function controlButton(text, func) {
        return button(
          {
            class: "window",
            onclick: func,
          },
          text
        );
      }

      alxndrDOM([
        controlButton("UP", () => movingDiv.moveUp()),
        controlButton("DOWN", () => movingDiv.moveDown()),
        controlButton("LEFT", () => movingDiv.moveLeft()),
        controlButton("RIGHT", () => movingDiv.moveRight()),
        controlButton("DELETE", () => movingDiv.destroy()),
        movingDiv.node,
      ]);
    </script>
  </body>
</html>
